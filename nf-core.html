<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>nf-core &mdash; Courses@CRG: Reproducible research and data analysis using Containers &amp; Nextflow 2022  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="canonical" href="https://biocorecrg.github.io/CoursesCRG_Containers_Nextflow_May_2022/nf-core.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Nextflow 3" href="nextflow_3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Courses@CRG: Reproducible research and data analysis using Containers & Nextflow 2022
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About the course</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker_2.html">Docker 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity.html">Singularity</a></li>
<li class="toctree-l1"><a class="reference internal" href="nextflow_1.html">Nextflow 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="nextflow_2.html">Nextflow 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="nextflow_3.html">Nextflow 3</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">nf-core</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction-to-nf-core">Introduction to nf-core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#community">Community</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipelines">Pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#guidelines">Guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#helper-tools">Helper tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#paper">Paper</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nf-core-for-users">nf-core for users</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#listing-pipelines">Listing pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filtering-available-nf-core-pipelines">Filtering available nf-core pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pulling-pipelines">Pulling pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#launching-pipelines">Launching pipelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#nf-core-configs-and-profiles">nf-core configs and profiles</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nf-core-configs">nf-core configs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#nf-core-core-profiles">nf-core core profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#institutional-profiles">Institutional profiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom-config">Custom config</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">Exercise</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-pipelines-with-test-data">Running pipelines with test data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#downloading-pipelines">Downloading pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline-output">Pipeline output</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nf-core-for-developers">nf-core for developers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-pipelines">Creating pipelines</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id4">Exercise</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#linting-pipelines">Linting pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nf-core-schema">nf-core schema</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#nf-core-modules">nf-core modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#listing-modules">Listing modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#showing-information-about-a-module">Showing information about a module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-modules-in-a-pipeline">Installing modules in a pipeline</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">Exercise</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#removing-modules-from-a-pipeline">Removing modules from a pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-modules">Creating modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">Exercise</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-commands-for-developing-nf-core-modules">Other commands for developing nf-core modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#lint-modules">Lint modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-unit-test">Create unit test</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-module-test-using-pytest">Run module test using pytest</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bump-bioconda-and-containers-versions-of-a-module-tool">Bump bioconda and containers versions of a module tool</a></li>
<li class="toctree-l4"><a class="reference internal" href="#generate-the-name-of-a-mulled-container">Generate the name of a mulled container</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">Exercise</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#interesting-links">Interesting links</a></li>
<li class="toctree-l2"><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Courses@CRG: Reproducible research and data analysis using Containers & Nextflow 2022</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>nf-core</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/nf-core.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <a class="reference internal image-reference" href="_images/nf-core-logo.png" id="nf-core-page"><img alt="_images/nf-core-logo.png" id="nf-core-page" src="_images/nf-core-logo.png" style="width: 400px;" /></a>
<section id="nf-core">
<h1>nf-core<a class="headerlink" href="#nf-core" title="Permalink to this heading"></a></h1>
<section id="introduction-to-nf-core">
<h2>Introduction to nf-core<a class="headerlink" href="#introduction-to-nf-core" title="Permalink to this heading"></a></h2>
<p>nf-core is a community effort to collect a curated set of analysis pipelines built using Nextflow. As such nf-core is:</p>
<ul class="simple">
<li><p>A community of users and developers.</p></li>
<li><p>A curated set of analysis pipelines build using Nextflow.</p></li>
<li><p>A set of guidelines (standard).</p></li>
<li><p>A set of helper tools.</p></li>
</ul>
<section id="community">
<h3>Community<a class="headerlink" href="#community" title="Permalink to this heading"></a></h3>
<p>The nf-core community is a collaborative effort that has been growing since its creation in early 2018, as you can check on
the <a class="reference external" href="https://nf-co.re/stats/">nf-core stats site</a>.</p>
<a class="reference internal image-reference" href="_images/nfcore_community.png"><img alt="_images/nfcore_community.png" src="_images/nfcore_community.png" style="width: 600px;" /></a>
<a class="reference internal image-reference" href="_images/nfcore_community_map.png"><img alt="_images/nfcore_community_map.png" src="_images/nfcore_community_map.png" style="width: 600px;" /></a>
</section>
<section id="pipelines">
<h3>Pipelines<a class="headerlink" href="#pipelines" title="Permalink to this heading"></a></h3>
<p>Currently, there are 66 pipelines that are available as part of nf-core (37 released, 23 under development and 6 archived).
You can browse all of them on this <a class="reference external" href="https://nf-co.re/pipelines">link</a>.</p>
</section>
<section id="guidelines">
<h3>Guidelines<a class="headerlink" href="#guidelines" title="Permalink to this heading"></a></h3>
<p>All nf-core pipelines must meet a series of requirements or guidelines. These guidelines ensure that all nf-core pipelines
follow the same standard and stick to current computational standards to achieve reproducibility, interoperability and
portability. The guidelines are make available on <a class="reference external" href="https://nf-co.re/docs/contributing/guidelines">this</a> link.</p>
</section>
<section id="helper-tools">
<h3>Helper tools<a class="headerlink" href="#helper-tools" title="Permalink to this heading"></a></h3>
<p>To ease the use and development of nf-core pipelines, the community makes available a set of helper tools that we will
introduce on this tutorial.</p>
</section>
<section id="paper">
<h3>Paper<a class="headerlink" href="#paper" title="Permalink to this heading"></a></h3>
<p>The main nf-core paper was published in 2020 in <a class="reference external" href="https://pubmed.ncbi.nlm.nih.gov/32055031/">Nature Biotechnology</a> and
describes the community and the nf-core framework.</p>
<a class="reference internal image-reference" href="_images/nf-core-paper.png"><img alt="_images/nf-core-paper.png" src="_images/nf-core-paper.png" style="width: 600px;" /></a>
</section>
<section id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Permalink to this heading"></a></h3>
<p>You can use Conda to install nf-core tools. In the command below we create a new named environment that includes nf-core
and then, we activate it.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">conda create --name nf-core nf-core=2.4.1 -c bioconda -c conda-forge -y</span>
<span class="go">conda activate nf-core</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will need to install again Nextflow in the instances using <code class="docutils literal notranslate"><span class="pre">curl</span> <span class="pre">-s</span> <span class="pre">https://get.nextflow.io</span> <span class="pre">|</span> <span class="pre">bash</span></code> and move the
executable to <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">mv</span> <span class="pre">nextflow</span> <span class="pre">/usr/local/bin</span></code></p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Find alternative ways of installation on the nf-core <a class="reference external" href="https://nf-co.re/tools/#installation">documentation</a></p>
</div>
<p>We can now check the nf-core available commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">    $ </span>nf-core -h
<span class="go">                                      ,--./,-.</span>
<span class="go">      ___     __   __   __   ___     /,-._.--~\</span>
<span class="go">|\ | |__  __ /  ` /  \ |__) |__         }  {</span>
<span class="go">| \| |       \__, \__/ |  \ |___     \`-._,-`-,</span>
<span class="go">                                      `._,._,&#39;</span>

<span class="go">nf-core/tools version 2.4.1 - https://nf-co.re</span>

<span class="go">    Usage: nf-core [OPTIONS] COMMAND [ARGS]...</span>

<span class="go">    nf-core/tools provides a set of helper tools for use with nf-core Nextflow pipelines.</span>
<span class="go">    It is designed for both end-users running pipelines and also developers creating new pipelines.</span>

<span class="go">    ╭─ Options ────────────────────────────────────────────────────────────────────────────────────────╮</span>
<span class="go">    │  --version                   Show the version and exit.                                          │</span>
<span class="go">    │  --verbose   -v              Print verbose output to the console.                                │</span>
<span class="go">    │  --log-file  -l  &lt;filename&gt;  Save a verbose log to a file.                                       │</span>
<span class="go">    │  --help      -h              Show this message and exit.                                         │</span>
<span class="go">    ╰──────────────────────────────────────────────────────────────────────────────────────────────────╯</span>
<span class="go">    ╭─ Commands for users ─────────────────────────────────────────────────────────────────────────────╮</span>
<span class="go">    │  list      List available nf-core pipelines with local info.                                     │</span>
<span class="go">    │  launch    Launch a pipeline using a web GUI or command line prompts.                            │</span>
<span class="go">    │  download  Download a pipeline, nf-core/configs and pipeline singularity images.                 │</span>
<span class="go">    │  licences  List software licences for a given workflow.                                          │</span>
<span class="go">    ╰──────────────────────────────────────────────────────────────────────────────────────────────────╯</span>
<span class="go">    ╭─ Commands for developers ────────────────────────────────────────────────────────────────────────╮</span>
<span class="go">    │  create        Create a new pipeline using the nf-core template.                                 │</span>
<span class="go">    │  lint          Check pipeline code against nf-core guidelines.                                   │</span>
<span class="go">    │  modules       Commands to manage Nextflow DSL2 modules (tool wrappers).                         │</span>
<span class="go">    │  schema        Suite of tools for developers to manage pipeline schema.                          │</span>
<span class="go">    │  bump-version  Update nf-core pipeline version number.                                           │</span>
<span class="go">    │  sync          Sync a pipeline TEMPLATE branch with the nf-core template.                        │</span>
<span class="go">    ╰──────────────────────────────────────────────────────────────────────────────────────────────────╯</span>
</pre></div>
</div>
<p>As shown in the screenshot, nf-core tools provides with some commands meant for users and with some commands meant
for developers. We will start first discussing how nf-core can be used from a user point of view.</p>
</section>
</section>
<section id="nf-core-for-users">
<h2>nf-core for users<a class="headerlink" href="#nf-core-for-users" title="Permalink to this heading"></a></h2>
<section id="listing-pipelines">
<h3>Listing pipelines<a class="headerlink" href="#listing-pipelines" title="Permalink to this heading"></a></h3>
<p>To show all the nf-core available pipelines, we can use the nf-core list command. This command also
provides some other information as the last version of each of the nf-core pipelines, its publication and
and when you last pulled the pipeline to your local system.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">    $ </span>nf-core list

<span class="go">                                      ,--./,-.</span>
<span class="go">      ___     __   __   __   ___     /,-._.--~\</span>
<span class="go">|\ | |__  __ /  ` /  \ |__) |__         }  {</span>
<span class="go">| \| |       \__, \__/ |  \ |___     \`-._,-`-,</span>
<span class="go">                                      `._,._,&#39;</span>

<span class="go">nf-core/tools version 2.4.1 - https://nf-co.re</span>


<span class="go">    ┏━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="go">    ┃ Pipeline Name          ┃ Stars ┃ Latest Release ┃      Released ┃  Last Pulled ┃ Have latest release? ┃</span>
<span class="go">    ┡━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span class="go">    │ airrflow               │    19 │          2.2.0 │    2 days ago │            - │ -                    │</span>
<span class="go">    │ circdna                │     4 │          1.0.0 │    5 days ago │            - │ -                    │</span>
<span class="go">    │ smrnaseq               │    39 │          2.0.0 │    5 days ago │ 7 months ago │ No (v1.1.0)          │</span>
<span class="go">    │ rnaseq                 │   465 │          3.8.1 │   1 weeks ago │   6 days ago │ Yes (v3.8.1)         │</span>
<span class="go">    │ ampliseq               │    88 │          2.3.2 │   1 weeks ago │            - │ -                    │</span>
<span class="go">    │ mnaseseq               │     7 │          1.0.0 │   2 weeks ago │            - │ -                    │</span>
<span class="go">    │ rnafusion              │    71 │          2.0.0 │   3 weeks ago │            - │ -                    │</span>
<span class="go">    │ fetchngs               │    58 │            1.6 │   3 weeks ago │  2 weeks ago │ No (v1.5)            │</span>
<span class="go">    │ atacseq                │   107 │          1.2.2 │   3 weeks ago │  2 weeks ago │ Yes (v1.2.2)         │</span>
<span class="go">    │ mhcquant               │    19 │          2.3.1 │   4 weeks ago │            - │ -                    │</span>
<span class="go">    │ hicar                  │     2 │          1.0.0 │  1 months ago │            - │ -                    │</span>
<span class="go">    │ quantms                │     1 │            1.0 │  1 months ago │            - │ -                    │</span>
<span class="go">    │ eager                  │    66 │          2.4.4 │  2 months ago │            - │ -                    │</span>
<span class="go">    │ viralrecon             │    70 │          2.4.1 │  3 months ago │ 7 months ago │ No (v2.2)            │</span>
<span class="go">    │ cutandrun              │    27 │            1.1 │  5 months ago │            - │ -                    │</span>
<span class="go">    │ epitopeprediction      │    18 │          2.0.0 │  6 months ago │            - │ -                    │</span>
<span class="go">    │ nanoseq                │    76 │          2.0.1 │  6 months ago │            - │ -                    │</span>
<span class="go">    │ mag                    │    88 │          2.1.1 │  6 months ago │            - │ -                    │</span>
<span class="go">    │ bacass                 │    35 │          2.0.0 │  9 months ago │            - │ -                    │</span>
<span class="go">    │ bactmap                │    29 │          1.0.0 │ 12 months ago │            - │ -                    │</span>
<span class="go">    │ sarek                  │   168 │          2.7.1 │ 12 months ago │ 2 months ago │ Yes (v2.7.1)         │</span>
<span class="go">    [..truncated..]</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The pipelines can be sorted by latest release (<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">release</span></code>, default), by the last time you pulled a local copy
(<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">pulled</span></code>), alphabetically (<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">name</span></code>) or by the number of GitHub stars (<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">stars</span></code>).</p>
</div>
</section>
<section id="filtering-available-nf-core-pipelines">
<h3>Filtering available nf-core pipelines<a class="headerlink" href="#filtering-available-nf-core-pipelines" title="Permalink to this heading"></a></h3>
<p>It is also possible to use keywords after the <code class="docutils literal notranslate"><span class="pre">list</span></code> command so that the list of pipelines is shortened to those
matching the keywords or including them in the description. We can use the command below to filter on the <strong>rna</strong>
and <strong>rna-seq</strong> keywords:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">    $ </span>nf-core list rna rna-seq

<span class="go">                                      ,--./,-.</span>
<span class="go">      ___     __   __   __   ___     /,-._.--~\</span>
<span class="go">|\ | |__  __ /  ` /  \ |__) |__         }  {</span>
<span class="go">| \| |       \__, \__/ |  \ |___     \`-._,-`-,</span>
<span class="go">                                      `._,._,&#39;</span>

<span class="go">nf-core/tools version 2.4.1 - https://nf-co.re</span>

<span class="go">    ┏━━━━━━━━━━━━━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━━━━━━━━┳━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="go">    ┃ Pipeline Name          ┃ Stars ┃ Latest Release ┃    Released ┃  Last Pulled ┃ Have latest release? ┃</span>
<span class="go">    ┡━━━━━━━━━━━━━━━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━━━━━━━━╇━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span class="go">    │ smrnaseq               │    39 │          2.0.0 │  5 days ago │ 7 months ago │ No (v1.1.0)          │</span>
<span class="go">    │ rnaseq                 │   465 │          3.8.1 │ 1 weeks ago │   6 days ago │ Yes (v3.8.1)         │</span>
<span class="go">    │ rnafusion              │    71 │          2.0.0 │ 3 weeks ago │            - │ -                    │</span>
<span class="go">    │ dualrnaseq             │     7 │          1.0.0 │ 1 years ago │            - │ -                    │</span>
<span class="go">    │ circrna                │    18 │            dev │           - │            - │ -                    │</span>
<span class="go">    │ lncpipe                │    23 │            dev │           - │            - │ -                    │</span>
<span class="go">    │ scflow                 │    12 │            dev │           - │            - │ -                    │</span>
<span class="go">    │ spatialtranscriptomics │     3 │            dev │           - │            - │ -                    │</span>
<span class="go">    └────────────────────────┴───────┴────────────────┴─────────────┴──────────────┴──────────────────────┘</span>
</pre></div>
</div>
</section>
<section id="pulling-pipelines">
<h3>Pulling pipelines<a class="headerlink" href="#pulling-pipelines" title="Permalink to this heading"></a></h3>
<p>Once we have identified the nf-core pipeline we want to use we can pull it using the Nextflow <a class="reference external" href="https://www.nextflow.io/docs/latest/sharing.html#pulling-or-updating-a-project">built-in functionality</a>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nextflow pull nf-core/&lt;PIPELINE&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Nextflow will also automatically pull a project if you use <code class="docutils literal notranslate"><span class="pre">nextflow</span> <span class="pre">run</span> <span class="pre">nf-core/&lt;PIPELINE&gt;</span></code></p>
</div>
</section>
<section id="launching-pipelines">
<h3>Launching pipelines<a class="headerlink" href="#launching-pipelines" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">launch</span></code> command enables to launch nf-core, and also Nextflow, pipelines via a web-based graphical interface or an
interactive command-line wizard tool. This command becomes handy for pipelines with a considerable number of parameters
since it displays the documentation alongside each of the parameters and validate your inputs.</p>
<p>We can now launch an nf-core pipeline:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core launch</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The pipelines can be sorted by latest release (<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">release</span></code>, default), by the last time you pulled a local copy
(<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">pulled</span></code>), alphabetically (<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">name</span></code>) or by the number of GitHub stars (<code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">stars</span></code>).</p>
</div>
<p>To render the description of the parameters, its grouping and defaults, the tool uses the <code class="docutils literal notranslate"><span class="pre">nextflow_schema.json</span></code>. This
JSON file is bundled with the pipeline and includes all the information mentioned above, see an example <a class="reference external" href="https://github.com/nf-core/rnaseq/blob/03d17893618c44075e4c91d83dc0e72b58f6f0f7/nextflow_schema.json">here</a>.</p>
<p>The chosen not default parameters are dumped into a JSON file called <code class="docutils literal notranslate"><span class="pre">nf-params.json</span></code>. This file can be provided to new
executions using the <code class="docutils literal notranslate"><span class="pre">-params-file</span></code> flag. See below an example:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;outdir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;results&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/nf-core/test-datasets/rnaseq/samplesheet/v3.4/samplesheet_test.csv&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>It is a good practice in terms of reproducibility to explicitly indicate the version (revision) of the pipeline that
you want to use, this can be indicated using the <code class="docutils literal notranslate"><span class="pre">-r</span></code> flag e.g. <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">launch</span> <span class="pre">rnaseq</span> <span class="pre">-r</span> <span class="pre">3.8.1</span></code>.</p>
<section id="exercise">
<h4>Exercise<a class="headerlink" href="#exercise" title="Permalink to this heading"></a></h4>
<p>Pull version <code class="docutils literal notranslate"><span class="pre">3.8.1</span></code> of the nf-core/rnaseq pipeline, run it using the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">launch</span></code> command and produce the <code class="docutils literal notranslate"><span class="pre">nf-params.json</span></code>.</p>
<details>
<summary><a>Solution</a></summary><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nextflow pull nf-core/rnaseq -r 3.8.1</span>
<span class="go">nf-core launch rnaseq -r 3.8.1</span>
</pre></div>
</div>
</details><div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="nf-core-configs-and-profiles">
<h3>nf-core configs and profiles<a class="headerlink" href="#nf-core-configs-and-profiles" title="Permalink to this heading"></a></h3>
<section id="nf-core-configs">
<h4>nf-core configs<a class="headerlink" href="#nf-core-configs" title="Permalink to this heading"></a></h4>
<p>We have already introduced Nextflow configuration files and profiles during the course. Config files are used by
nf-core pipelines to specify the computational requirements of the pipeline, define custom parameters and set which
software management system to be used (Docker, Singularity or Conda). As an example take a look to the <a class="reference external" href="https://github.com/nf-core/smrnaseq/blob/master/conf/base.config">base.config</a>
that is used to set sensible defaults for the computational resources needed by the pipeline.</p>
</section>
<section id="nf-core-core-profiles">
<h4>nf-core core profiles<a class="headerlink" href="#nf-core-core-profiles" title="Permalink to this heading"></a></h4>
<p>nf-core pipelines use profiles to bundle a set of configuration attributes. By doing so, we can activate these
attributes by using the <code class="docutils literal notranslate"><span class="pre">-profile</span></code> Nextflow command line option.  All nf-core pipelines come along with a set of common
“Core profiles” that include the <code class="docutils literal notranslate"><span class="pre">conda</span></code>, <code class="docutils literal notranslate"><span class="pre">docker</span></code> and <code class="docutils literal notranslate"><span class="pre">singularity</span></code> that define which software manager to use and the
<code class="docutils literal notranslate"><span class="pre">test</span></code> profile that specifies a minimal test dataset to check that the pipelines works properly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each configuration file can include one or several profiles</p>
</div>
</section>
<section id="institutional-profiles">
<h4>Institutional profiles<a class="headerlink" href="#institutional-profiles" title="Permalink to this heading"></a></h4>
<p>Institutional profiles are profiles where you can specify the configuration attributes for your institution system. They are
hosted in <a class="reference external" href="https://github.com/nf-core/configs">https://github.com/nf-core/configs</a> and all pipelines pull this repository when a pipeline is run. The idea is that
these profiles set the custom config attributes to run nf-core pipelines in your institution (scheduler, container technology,
resources, etc.). This way all the users in a cluster can make use of the profile just setting the profile of your institution
(<code class="docutils literal notranslate"><span class="pre">-profile</span> <span class="pre">institution</span></code>).</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use more than profile at a time by separating them by a comma without space, e.g. <code class="docutils literal notranslate"><span class="pre">-profile</span> <span class="pre">test,docker</span></code></p>
</div>
</section>
<section id="custom-config">
<h4>Custom config<a class="headerlink" href="#custom-config" title="Permalink to this heading"></a></h4>
<p>If you need to provide any custom parameter or setting when running a nf-core pipeline, you can do it by creating a local custom
config file and add it to your command with the <code class="docutils literal notranslate"><span class="pre">-c</span></code> flag.</p>
<a class="reference internal image-reference" href="_images/nfcore_config.png"><img alt="_images/nfcore_config.png" src="_images/nfcore_config.png" style="width: 600px;" /></a>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>Image from <a class="reference external" href="https://carpentries-incubator.github.io/workflows-nextflow/">https://carpentries-incubator.github.io/workflows-nextflow</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Profiles will be prioritized from left to right in case conflicting settings are found.</p>
</div>
</section>
<section id="id3">
<h4>Exercise<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>Create a custom config that sets <code class="docutils literal notranslate"><span class="pre">params.email</span></code> to your email address and try to run the pipeline.</p></li>
</ul>
<details>
<summary><a>Solution</a></summary><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">echo &#39;params.email = &quot;youremail@address.com&quot;&#39; &gt; mycustom.config</span>
<span class="go">nextflow run nf-core/rnaseq -r 3.8.1 -profile test,docker -c mycustom.config --outdir results</span>
</pre></div>
</div>
</details><ul class="simple">
<li><p>Create a custom config that sets the process cpus to 2 and the memory to 8 Gb.</p></li>
</ul>
<details>
<summary><a>Solution</a></summary><div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">params</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">max_cpus</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"></span>
<span class="w">    </span><span class="n">max_memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;8.GB&#39;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
</pre></div>
</div>
</details><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="running-pipelines-with-test-data">
<h3>Running pipelines with test data<a class="headerlink" href="#running-pipelines-with-test-data" title="Permalink to this heading"></a></h3>
<p>All nf-core pipelines include a special configuration named <code class="docutils literal notranslate"><span class="pre">test</span></code>. This configuration defines all the files and parameters to test
all pipeline functionality with a minimal dataset. Thus, although the functionality of the pipeline is maintained often the results
are not meaningful. As an example, find on the snippet below the test configuration of the <a class="reference external" href="https://github.com/nf-core/rnaseq/">nf-core/rnaseq</a>.
pipeline.</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    Nextflow config file for running minimal tests</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    Defines input files and everything required to run a fast and simple pipeline test.</span>
<span class="cm">    Use as follows:</span>
<span class="cm">        nextflow run nf-core/rnaseq -profile test,&lt;docker/singularity&gt; --outdir &lt;OUTDIR&gt;</span>
<span class="cm">----------------------------------------------------------------------------------------</span>
<span class="cm">*/</span><span class="w"></span>

<span class="n">params</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">config_profile_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Test profile&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">config_profile_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Minimal test dataset to check pipeline function&#39;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Limit resources so that this can run on GitHub Actions</span><span class="w"></span>
<span class="w">    </span><span class="n">max_cpus</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"></span>
<span class="w">    </span><span class="n">max_memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;6.GB&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">max_time</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;6.h&#39;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Input data</span><span class="w"></span>
<span class="w">    </span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://raw.githubusercontent.com/nf-core/test-datasets/rnaseq/samplesheet/v3.4/samplesheet_test.csv&#39;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Genome references</span><span class="w"></span>
<span class="w">    </span><span class="n">fasta</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/genome.fasta&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">gtf</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/genes.gtf.gz&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">gff</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/genes.gff.gz&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">transcript_fasta</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/transcriptome.fasta&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">additional_fasta</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/gfp.fa.gz&#39;</span><span class="w"></span>

<span class="w">    </span><span class="n">bbsplit_fasta_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/bbsplit_fasta_list.txt&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">hisat2_index</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/hisat2.tar.gz&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">salmon_index</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/salmon.tar.gz&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">rsem_index</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/test-datasets/raw/rnaseq/reference/rsem.tar.gz&#39;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Other parameters</span><span class="w"></span>
<span class="w">    </span><span class="n">skip_bbsplit</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="n">pseudo_aligner</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;salmon&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">umitools_bc_pattern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;NNNN&#39;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="c1">// When using RSEM, remove warning from STAR whilst building tiny indices</span><span class="w"></span>
<span class="n">process</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="nl">withName:</span><span class="w"> </span><span class="s1">&#39;RSEM_PREPAREREFERENCE_GENOME&#39;</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ext</span><span class="o">.</span><span class="na">args2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;--genomeSAindexNbases 7&quot;</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can find the current version of the above config above <a class="reference external" href="https://github.com/nf-core/rnaseq/blob/master/conf/test.config">here</a></p>
</div>
</section>
<section id="downloading-pipelines">
<h3>Downloading pipelines<a class="headerlink" href="#downloading-pipelines" title="Permalink to this heading"></a></h3>
<p>If your HPC system or server does not have an internet connection you can still run nf-core pipelines by fetching the
pipeline files first and then, manually transferring them to your system.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">download</span></code> option simplifies this process and ensures the correct versioning of all the code and containers
needed to run the pipeline. By default, the command will download the pipeline code and the institutional <a class="reference external" href="https://github.com/nf-core/configs">nf-core/configs</a>
files. Again, the <code class="docutils literal notranslate"><span class="pre">-r</span></code> flag allows to fetch a given revision of the pipeline.</p>
<p>Finally, you can also download any singularity image files required by the pipeline, if you specify the <code class="docutils literal notranslate"><span class="pre">--singularity</span></code> flag.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you don’t provide any option to <code class="docutils literal notranslate"><span class="pre">`nf-core</span> <span class="pre">download</span></code> an interactive prompt will ask you for the required options.</p>
</div>
<p>We can now try to download the rnaseq pipeline using the command below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core download rnaseq</span>
</pre></div>
</div>
<p>Now we can inspect the structure of the downloaded directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tree -L <span class="m">2</span> nf-core-rnaseq-3.8.1/

<span class="go">nf-core-rnaseq-3.8.1/</span>
<span class="go">├── configs</span>
<span class="go">│   ├── ..truncated..</span>
<span class="go">│   ├── nextflow.config</span>
<span class="go">│   ├── nfcore_custom.config</span>
<span class="go">│   └── pipeline</span>
<span class="go">├── singularity-images</span>
<span class="go">│   ├── depot.galaxyproject.org-singularity-bbmap-38.93--he522d1c_0.img</span>
<span class="go">│   ├── ..truncated..</span>
<span class="go">│   └── depot.galaxyproject.org-singularity-umi_tools-1.1.2--py38h4a8c8d9_0.img</span>
<span class="go">└── workflow</span>
<span class="go">        ├── CHANGELOG.md</span>
<span class="go">        ├── ..truncated..</span>
<span class="go">        ├── main.nf</span>
<span class="go">        ├── modules</span>
<span class="go">        └── workflows</span>
</pre></div>
</div>
</section>
<section id="pipeline-output">
<h3>Pipeline output<a class="headerlink" href="#pipeline-output" title="Permalink to this heading"></a></h3>
<p>nf-core pipelines produce a <a class="reference external" href="https://multiqc.info/">MultiQC</a> report which summarises results at the end of the execution
along with software versions of the different tools used, nf-core pipeline version and Nextflow version itself.</p>
<p>Each pipeline provides an example of a MultiQC report from a real execution in the nf-core website. For instance you can find
the report corresponding to the current version of nf-core/rnaseq <a class="reference external" href="https://nf-co.re/rnaseq/results#rnaseq">here</a>.</p>
</section>
</section>
<section id="nf-core-for-developers">
<h2>nf-core for developers<a class="headerlink" href="#nf-core-for-developers" title="Permalink to this heading"></a></h2>
<p>nf-core tools provide with a bunch of helper commands targeted to help developers implement pipelines following nf-core guidelines.
You can use them to contribute to the nf-core repository or use them to implement your own pipelines following nf-core standards.</p>
<section id="creating-pipelines">
<h3>Creating pipelines<a class="headerlink" href="#creating-pipelines" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">create</span></code> command generates a pipeline based on the nf-core template. During the process you will need to provide some
information as the pipeline name, description and author name either using the flags or answering the questions in the interactive prompt.
With this information, the pipeline will be initialized following the nf-core standards.</p>
<p>Besides creating the files, the command initializes the folder containing the new pipeline as a git repository and makes and initial
commit. This first commit is identical to the nf-core template and it is important since it enables to keep your pipeline in sync with
the nf-core template when it is updated (new tool releases).</p>
<section id="id4">
<h4>Exercise<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h4>
<p>Try to create your own pipeline using <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">create</span></code></p>
<details>
<summary><a>Solution</a></summary><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core create -n &quot;toy&quot; -d &quot;My awesome nf-core pipeline&quot; -a &quot;Your name&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As shown in the message returned by the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">create</span></code> if you plan to contribute your pipeline to nf-core, it is
highly advisable to drop a message on the nf-core before starting to write any code, read more <a class="reference external" href="https://nf-co.re/developers/adding_pipelines#join-the-community">here</a></p>
</div>
</details><div class="line-block">
<div class="line"><br /></div>
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="linting-pipelines">
<h3>Linting pipelines<a class="headerlink" href="#linting-pipelines" title="Permalink to this heading"></a></h3>
<p>To make sticking to nf-core guidelines easier, nf-core includes the <code class="docutils literal notranslate"><span class="pre">lint</span></code> command. This command checks that the pipeline
is following some of the nf-core standards. Interestingly, the command is the same that is used in the automated continuous
integration tests.</p>
<p>Let’s try to run this command on the pipeline we have just created.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd nf-core-&lt;your_pipeline_name&gt;</span>
<span class="go">nf-core lint</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use <kbd class="kbd docutils literal notranslate">ctrl</kbd> + <kbd class="kbd docutils literal notranslate">click</kbd> to navigate the documentation of each of the lint results. Otherwise,
the complete list of the lint tests can be found <a class="reference external" href="https://nf-co.re/tools-docs/lint_tests/index.html">here</a>.</p>
</div>
<p>To run only a specific nf-core lint test you can use the <code class="docutils literal notranslate"><span class="pre">-k</span></code> / <code class="docutils literal notranslate"><span class="pre">--key</span></code> option, this enables to run for example
only a certain test that has failed, e.g. <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">lint</span> <span class="pre">-k</span> <span class="pre">files_exist</span> <span class="pre">-k</span> <span class="pre">files_unchanged</span></code>.</p>
</section>
<section id="nf-core-schema">
<h3>nf-core schema<a class="headerlink" href="#nf-core-schema" title="Permalink to this heading"></a></h3>
<p>As we discussed before, nf-core pipelines include a <code class="docutils literal notranslate"><span class="pre">nextflow_schema.json</span></code> that it is used to describe the parameters
of the pipelines and validate them when provided as input. Since the creation of this file could be very error prompt,
nf-core tools provide with a command to create <code class="docutils literal notranslate"><span class="pre">build</span></code>, <code class="docutils literal notranslate"><span class="pre">validate</span></code> and <code class="docutils literal notranslate"><span class="pre">lint</span></code> the nextflow_schema.json.</p>
<p>We will see an example of how to use this command on the final exercise.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can find more documentation about the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">schema</span></code> on the <a class="reference external" href="https://nf-co.re/tools/#pipeline-schema">nf-core website</a>.</p>
</div>
</section>
</section>
<section id="nf-core-modules">
<h2>nf-core modules<a class="headerlink" href="#nf-core-modules" title="Permalink to this heading"></a></h2>
<p>Since the introduction of <a class="reference external" href="https://www.nextflow.io/blog/2020/dsl2-is-here.html">Nextflow DSL2</a>, nf-core pipelines have,
and still are, been ported to DSL2 syntax. One of the paramount features of the DSL2 syntax is the possibility of creating
modules and sub-workflows, as we have already discussed during this course. For this reason, the nf-core community has created
a centralised repository to host modules and sub-workflows (the latter is still WIP). This enables multiple pipelines to use
the same process defined as a module improving the developing speed and the robustness of pipelines by using tested modules.</p>
<div class="topic">
<p class="topic-title">nf-core DSL2 concepts</p>
<p><strong>MODULE</strong>: A process that can be used within different pipelines and is as a atomic as possible i.e, cannot be split into
another module.
e.g. a module file containing the process definition for a single tool such as FastQC</p>
<p><strong>SUB-WORKFLOW</strong>: A chain of multiple modules that offer a higher-level functionality within the context of a pipeline.
e.g. a sub-workflow to sort, index and run some basic stats on a BAM file.</p>
<p><strong>WORKFLOW</strong>: An end-to-end pipeline created by a combination of Nextflow DSL2 individual modules and sub-workflows.
e.g. from one or more inputs to a series of final inputs</p>
</div>
<p>The nf-core DSL2 modules repository is at <a class="reference external" href="https://github.com/nf-core/modules">https://github.com/nf-core/modules</a> and you
can navigate the modules available on this section of the nf-core <a class="reference external" href="https://nf-co.re/modules">website</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We have recently reach 500 modules available in the modules repository.</p>
</div>
<p>As you can see, modules have become a central resource of the nf-core community and as so nf-core tools provides with
some dedicated utilities for modules.</p>
<section id="listing-modules">
<h3>Listing modules<a class="headerlink" href="#listing-modules" title="Permalink to this heading"></a></h3>
<p>We can now list all the nf-core available modules getting advantage of the <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">remote</span></code> sub-command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">    $ </span>nf-core modules list remote
<span class="go">                                      ,--./,-.</span>
<span class="go">      ___     __   __   __   ___     /,-._.--~\</span>
<span class="go">|\ | |__  __ /  ` /  \ |__) |__         }  {</span>
<span class="go">| \| |       \__, \__/ |  \ |___     \`-._,-`-,</span>
<span class="go">                                      `._,._,&#39;</span>

<span class="go">nf-core/tools version 2.4.1 - https://nf-co.re</span>

<span class="go">    INFO     Modules available from nf-core/modules (master):                                                                                                                                                                                                            list.py:125</span>

<span class="go">    ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="go">    ┃ Module Name                              ┃</span>
<span class="go">    ┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span class="go">    │ abacas                                   │</span>
<span class="go">    │ abricate/run                             │</span>
<span class="go">    │ abricate/summary                         │</span>
<span class="go">    │ adapterremoval                           │</span>
<span class="go">    │ adapterremovalfixprefix                  │</span>
<span class="go">    │ agrvate                                  │</span>
<span class="go">    │ allelecounter                            │</span>
<span class="go">    │ amplify/predict                          │</span>
<span class="go">    │ amps                                     │</span>
<span class="go">    │ amrfinderplus/run                        │</span>
<span class="go">    │ amrfinderplus/update                     │</span>
<span class="go">    │ antismash/antismashlite                  │</span>
<span class="go">    │ antismash/antismashlitedownloaddatabases │</span>
<span class="go">    │ arriba                                   │</span>
<span class="go">    │ artic/guppyplex                          │</span>
<span class="go">    │ artic/minion                             │</span>
<span class="go">    │ ascat                                    │</span>
<span class="go">    │ assemblyscan                             │</span>
<span class="go">    │ ataqv/ataqv                              │</span>
<span class="go">    │ bakta                                    │</span>
<span class="go">    │ bamaligncleaner                          │</span>
<span class="go">    │ bamcmp                                   │</span>
<span class="go">    │ bamtools/convert                         │</span>
<span class="go">    [..truncated..]</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can add a pattern to the end of the list command to filter the modules by keyword eg: <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">list</span> <span class="pre">remote</span> <span class="pre">samtools</span></code></p>
</div>
<p>Likewise, it is also possible to list the modules installed in a pipeline by using the <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">local</span></code> sub-command. By default,
the command will list the modules installed in the current working directory but you can provide a different directory by using
the <code class="docutils literal notranslate"><span class="pre">--dir</span> <span class="pre">&lt;pipeline_dir&gt;</span></code> option.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core modules list local</span>
</pre></div>
</div>
</section>
<section id="showing-information-about-a-module">
<h3>Showing information about a module<a class="headerlink" href="#showing-information-about-a-module" title="Permalink to this heading"></a></h3>
<p>You can render the basic information of a module using <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">info</span> <span class="pre">&lt;tool&gt;</span></code>. This command will provide a brief
summary of the module functionality, the description of the input and output channels, its type (<code class="docutils literal notranslate"><span class="pre">val</span></code>, <code class="docutils literal notranslate"><span class="pre">path</span></code>, etc.)
and the its installation command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core modules info fastqc</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you prefer, you can also check the modules documentation in the <a class="reference external" href="https://nf-co.re/modules">nf-core website</a>.</p>
</div>
</section>
<section id="installing-modules-in-a-pipeline">
<h3>Installing modules in a pipeline<a class="headerlink" href="#installing-modules-in-a-pipeline" title="Permalink to this heading"></a></h3>
<p>You can use nf-core tools to install a module in any pipeline. The only requirement is that the directory contains a
<code class="docutils literal notranslate"><span class="pre">main.nf</span></code> a <code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> and a <code class="docutils literal notranslate"><span class="pre">modules</span></code> directory where the module will be installed.</p>
<section id="id5">
<h4>Exercise<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>Create a folder with an empty <code class="docutils literal notranslate"><span class="pre">main.nf</span></code>, <code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> and a <code class="docutils literal notranslate"><span class="pre">modules</span></code> directory and try to install a module,</p></li>
</ul>
<p>e.g. samtools/sort.</p>
<details>
<summary><a>Solution</a></summary><ul class="simple">
<li><p>Now, place yourself in the nf-core-toy pipeline we created before and try to install the same module.</p></li>
</ul>
<details>
<summary><a>Solution</a></summary></details><div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core modules install samtools/sort</span>
</pre></div>
</div>
</section>
</section>
<section id="removing-modules-from-a-pipeline">
<h3>Removing modules from a pipeline<a class="headerlink" href="#removing-modules-from-a-pipeline" title="Permalink to this heading"></a></h3>
<p>In the same manner, we can delete a module from a pipeline by using:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core modules remove samtools/sort</span>
</pre></div>
</div>
</section>
<section id="creating-modules">
<h3>Creating modules<a class="headerlink" href="#creating-modules" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">create</span></code> command for modules is the equivalent to the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">create</span></code> command for pipelines and
similarly uses the modules template to generate a module following nf-core guidelines.</p>
<p>You can use this command both to create local modules for a pipeline or to create modules for the <a class="reference external" href="https://github.com/nf-core/modules">nf-core modules</a>
repository. The command can detect on which type of repository you are working thanks to the <code class="docutils literal notranslate"><span class="pre">.nf-core.yml</span></code> file that sets the type of repository using the
<code class="docutils literal notranslate"><span class="pre">repository_type</span></code> tag.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to make available a module in <code class="docutils literal notranslate"><span class="pre">nf-core/modules</span></code> to the whole Nextflow community you can find the reference
documentation <a class="reference external" href="https://nf-co.re/developers/modules#writing-a-new-module-reference">here</a>  and a step by step tutorial
on <a class="reference external" href="https://nf-co.re/developers/tutorials/dsl2_modules_tutorial">this</a> link.</p>
</div>
<section id="id6">
<h4>Exercise<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>Place yourself in the nf-core-toy pipeline we created before and try to install the same module.</p></li>
</ul>
<details>
<summary><a>Solution</a></summary><div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>In which folder does it create the module?</p></li>
</ul>
<details>
<summary><a>Solution</a></summary><ul class="simple">
<li><p>Clone the nf-core modules repository locally <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span> <span class="pre">https://github.com/nf-core/modules.git</span></code> and try the same command</p></li>
</ul>
<p>you use to create the fastqc module locally there, what happens?</p>
<details>
<summary><a>Solution</a></summary></details><div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
<section id="other-commands-for-developing-nf-core-modules">
<h3>Other commands for developing nf-core modules<a class="headerlink" href="#other-commands-for-developing-nf-core-modules" title="Permalink to this heading"></a></h3>
<section id="lint-modules">
<h4>Lint modules<a class="headerlink" href="#lint-modules" title="Permalink to this heading"></a></h4>
<p>As for pipelines, nf-core tools provides a command to lint the modules against nf-core guidelines.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core modules lint</span>
</pre></div>
</div>
</section>
<section id="create-unit-test">
<h4>Create unit test<a class="headerlink" href="#create-unit-test" title="Permalink to this heading"></a></h4>
<p>nf-core modules have the requirement of being unit tested using a minimal test data. These tests are run using <a class="reference external" href="https://pytest-workflow.readthedocs.io/en/stable/">pytest</a>
and can be automatically generated using the command below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core modules create-test-yml</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can find more info about the <code class="docutils literal notranslate"><span class="pre">create-test-yml</span></code> command <a class="reference external" href="https://nf-co.re/tools/#create-a-module-test-config-file">here</a>.</p>
</div>
</section>
<section id="run-module-test-using-pytest">
<h4>Run module test using pytest<a class="headerlink" href="#run-module-test-using-pytest" title="Permalink to this heading"></a></h4>
<p>Also, it is possible to run the unit test of a module using the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">test</span></code> command using again <a class="reference external" href="https://pytest-workflow.readthedocs.io/en/stable/">pytest</a>.
To run the test for a given module (e.g. fastqc) you can use:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core modules test fastqc</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To run the modules unit test you need to install <a class="reference external" href="https://pytest-workflow.readthedocs.io/en/stable/#installation">pytest</a> first.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Further documenation <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">test</span></code> can be found on this <a class="reference external" href="https://nf-co.re/tools/#run-the-tests-for-a-module-using-pytest">link</a>.</p>
</div>
</section>
<section id="bump-bioconda-and-containers-versions-of-a-module-tool">
<h4>Bump bioconda and containers versions of a module tool<a class="headerlink" href="#bump-bioconda-and-containers-versions-of-a-module-tool" title="Permalink to this heading"></a></h4>
<p>To ease the update of the modules installed in a pipeline, nf-core provides with the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">bump-versions</span></code>
command. It is possible to both update a single or all modules in a pipeline. Also, this command can be used when contributing
to the nf-core modules repository to update the versions of modules upon release in Bioconda. The typical <code class="docutils literal notranslate"><span class="pre">bump-versions</span></code>
command looks like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core modules bump-versions</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Find the whole documenation of the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">bump-versions</span></code> command <a class="reference external" href="https://nf-co.re/tools/#bump-bioconda-and-container-versions-of-modules-in">here</a>.</p>
</div>
</section>
<section id="generate-the-name-of-a-mulled-container">
<h4>Generate the name of a mulled container<a class="headerlink" href="#generate-the-name-of-a-mulled-container" title="Permalink to this heading"></a></h4>
<p>Biocontainers offer the possibility of generating what is known as mulled containers and that consist of multi-tool containers
generated by combinating a given version of single tool and adding them to the <a class="reference external" href="https://github.com/BioContainers/multi-package-containers/blob/master/combinations/hash.tsv">hash.tsv</a>
of the Biocontainers <code class="docutils literal notranslate"><span class="pre">multi-package-containers</span></code> repository. This command generates the name of a BioContainers mulled image,
even if it does not exist, using the command below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">    $ </span>nf-core modules mulled <span class="nv">bowtie2</span><span class="o">==</span><span class="m">2</span>.4.4 <span class="nv">samtools</span><span class="o">==</span><span class="m">1</span>.15.1 <span class="nv">pigz</span><span class="o">==</span><span class="m">2</span>.6

<span class="go">                                      ,--./,-.</span>
<span class="go">      ___     __   __   __   ___     /,-._.--~\</span>
<span class="go">|\ | |__  __ /  ` /  \ |__) |__         }  {</span>
<span class="go">| \| |       \__, \__/ |  \ |___     \`-._,-`-,</span>
<span class="go">                                      `._,._,&#39;</span>

<span class="go">nf-core/tools version 2.4.1 - https://nf-co.re</span>


<span class="go">    INFO     Found docker image on quay.io! ✨                                                                                                                                                                                                                          mulled.py:68</span>
<span class="go">    INFO     Mulled container hash:                                                                                                                                                                                                                                  __main__.py:717</span>
<span class="go">    mulled-v2-ac74a7f02cebcfcc07d8e8d1d750af9c83b4d45a:1744f68fe955578c63054b55309e05b41c37a80d-0</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The above mulled container is used in the <code class="docutils literal notranslate"><span class="pre">bowtie2/align</span> <span class="pre">module</span></code>, see <a class="reference external" href="https://github.com/nf-core/modules/blob/61f68913fefc20241ceccb671b104230b2d775d7/modules/bowtie2/align/main.nf#L6-L9">here</a></p>
</div>
</section>
<section id="id7">
<h4>Exercise<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>Create or use the previous toy nf-core pipeline</p></li>
<li><p>Install the <code class="docutils literal notranslate"><span class="pre">adapterremoval</span></code> module</p></li>
<li><p>Use the <code class="docutils literal notranslate"><span class="pre">adapterremoval</span></code> module in the <code class="docutils literal notranslate"><span class="pre">toy.nf</span></code> script.</p></li>
<li><p>Add a parameter to make the call of <code class="docutils literal notranslate"><span class="pre">adapterremoval</span></code> optional (<code class="docutils literal notranslate"><span class="pre">skip_adapterremoval</span></code>) in the <code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> and implement the code to make the call of the process in <code class="docutils literal notranslate"><span class="pre">rna.toy</span></code> controlled by the parameter, see <a class="reference external" href="https://github.com/nf-core/rnaseq/blob/89bf536ce4faa98b4d50a8ec0a0343780bc62e0a/workflows/rnaseq.nf#L182">here</a> for an example.</p></li>
<li><p>Lint the pipeline.</p></li>
<li><p>Fix the linting by using the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">schema</span> <span class="pre">build</span></code> command.</p></li>
<li><p>Modify the arguments pass to the <code class="docutils literal notranslate"><span class="pre">fastqc</span></code> module by creating a custom config, see <code class="docutils literal notranslate"><span class="pre">./conf/modules.config</span></code> for inspiration.</p></li>
</ul>
<details>
<summary><a>Solution</a></summary><div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    VALIDATE INPUTS</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">*/</span><span class="w"></span>

<span class="kt">def</span><span class="w"> </span><span class="n">summary_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NfcoreSchema</span><span class="o">.</span><span class="na">paramsSummaryMap</span><span class="o">(</span><span class="n">workflow</span><span class="o">,</span><span class="w"> </span><span class="n">params</span><span class="o">)</span><span class="w"></span>

<span class="c1">// Validate input parameters</span><span class="w"></span>
<span class="n">WorkflowToy</span><span class="o">.</span><span class="na">initialise</span><span class="o">(</span><span class="n">params</span><span class="o">,</span><span class="w"> </span><span class="n">log</span><span class="o">)</span><span class="w"></span>

<span class="c1">// Check input path parameters to see if they exist</span><span class="w"></span>
<span class="kt">def</span><span class="w"> </span><span class="n">checkPathParamList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">input</span><span class="o">,</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">multiqc_config</span><span class="o">,</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">fasta</span><span class="w"> </span><span class="o">]</span><span class="w"></span>
<span class="k">for</span><span class="w"> </span><span class="o">(</span><span class="n">param</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">checkPathParamList</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">param</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">file</span><span class="o">(</span><span class="n">param</span><span class="o">,</span><span class="w"> </span><span class="nl">checkIfExists:</span><span class="w"> </span><span class="kc">true</span><span class="o">)</span><span class="w"> </span><span class="o">}</span><span class="w"> </span><span class="o">}</span><span class="w"></span>

<span class="c1">// Check mandatory parameters</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">input</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">ch_input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">file</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">input</span><span class="o">)</span><span class="w"> </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;Input samplesheet not specified!&#39;</span><span class="w"> </span><span class="o">}</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    CONFIG FILES</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">*/</span><span class="w"></span>

<span class="n">ch_multiqc_config</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">file</span><span class="o">(</span><span class="s2">&quot;$projectDir/assets/multiqc_config.yml&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">checkIfExists:</span><span class="w"> </span><span class="kc">true</span><span class="o">)</span><span class="w"></span>
<span class="n">ch_multiqc_custom_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">multiqc_config</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">fromPath</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">multiqc_config</span><span class="o">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">empty</span><span class="o">()</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    IMPORT LOCAL MODULES/SUBWORKFLOWS</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">*/</span><span class="w"></span>

<span class="c1">//</span><span class="w"></span>
<span class="c1">// SUBWORKFLOW: Consisting of a mix of local and nf-core/modules</span><span class="w"></span>
<span class="c1">//</span><span class="w"></span>
<span class="n">include</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">INPUT_CHECK</span><span class="w"> </span><span class="o">}</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="s1">&#39;../subworkflows/local/input_check&#39;</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    IMPORT NF-CORE MODULES/SUBWORKFLOWS</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">*/</span><span class="w"></span>

<span class="c1">//</span><span class="w"></span>
<span class="c1">// MODULE: Installed directly from nf-core/modules</span><span class="w"></span>
<span class="c1">//</span><span class="w"></span>
<span class="n">include</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">FASTQC</span><span class="w">                      </span><span class="o">}</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="s1">&#39;../modules/nf-core/modules/fastqc/main&#39;</span><span class="w"></span>
<span class="n">include</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">MULTIQC</span><span class="w">                     </span><span class="o">}</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="s1">&#39;../modules/nf-core/modules/multiqc/main&#39;</span><span class="w"></span>
<span class="n">include</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">CUSTOM_DUMPSOFTWAREVERSIONS</span><span class="w"> </span><span class="o">}</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="s1">&#39;../modules/nf-core/modules/custom/dumpsoftwareversions/main&#39;</span><span class="w"></span>
<span class="hll"><span class="n">include</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">ADAPTERREMOVAL</span><span class="w">              </span><span class="o">}</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="s1">&#39;../modules/nf-core/modules/adapterremoval/main&#39;</span><span class="w"></span>
</span><span class="hll">
</span><span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    RUN MAIN WORKFLOW</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">*/</span><span class="w"></span>

<span class="c1">// Info required for completion email and summary</span><span class="w"></span>
<span class="kt">def</span><span class="w"> </span><span class="n">multiqc_report</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[]</span><span class="w"></span>

<span class="n">workflow</span><span class="w"> </span><span class="n">TOY</span><span class="w"> </span><span class="o">{</span><span class="w"></span>

<span class="w">    </span><span class="n">ch_versions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">empty</span><span class="o">()</span><span class="w"></span>

<span class="w">    </span><span class="c1">//</span><span class="w"></span>
<span class="w">    </span><span class="c1">// SUBWORKFLOW: Read in samplesheet, validate and stage input files</span><span class="w"></span>
<span class="w">    </span><span class="c1">//</span><span class="w"></span>
<span class="w">    </span><span class="n">INPUT_CHECK</span><span class="w"> </span><span class="o">(</span><span class="w"></span>
<span class="w">        </span><span class="n">ch_input</span><span class="w"></span>
<span class="w">    </span><span class="o">)</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_versions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_versions</span><span class="o">.</span><span class="na">mix</span><span class="o">(</span><span class="n">INPUT_CHECK</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">versions</span><span class="o">)</span><span class="w"></span>

<span class="w">    </span><span class="c1">//</span><span class="w"></span>
<span class="w">    </span><span class="c1">// MODULE: Run FastQC</span><span class="w"></span>
<span class="w">    </span><span class="c1">//</span><span class="w"></span>
<span class="w">    </span><span class="n">FASTQC</span><span class="w"> </span><span class="o">(</span><span class="w"></span>
<span class="w">        </span><span class="n">INPUT_CHECK</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">reads</span><span class="w"></span>
<span class="w">    </span><span class="o">)</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_versions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_versions</span><span class="o">.</span><span class="na">mix</span><span class="o">(</span><span class="n">FASTQC</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">versions</span><span class="o">.</span><span class="na">first</span><span class="o">())</span><span class="w"></span>

<span class="hll"><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">(!</span><span class="n">params</span><span class="o">.</span><span class="na">skip_adapterremoval</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
</span><span class="hll"><span class="w">        </span><span class="n">ADAPTERREMOVAL</span><span class="w"> </span><span class="o">(</span><span class="w"></span>
</span><span class="hll"><span class="w">            </span><span class="n">INPUT_CHECK</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">reads</span><span class="o">,</span><span class="w"></span>
</span><span class="hll"><span class="w">            </span><span class="o">[]</span><span class="w"></span>
</span><span class="hll"><span class="w">        </span><span class="o">)</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="o">}</span><span class="w"></span>
</span>
<span class="w">    </span><span class="n">CUSTOM_DUMPSOFTWAREVERSIONS</span><span class="w"> </span><span class="o">(</span><span class="w"></span>
<span class="w">        </span><span class="n">ch_versions</span><span class="o">.</span><span class="na">unique</span><span class="o">().</span><span class="na">collectFile</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;collated_versions.yml&#39;</span><span class="o">)</span><span class="w"></span>
<span class="w">    </span><span class="o">)</span><span class="w"></span>

<span class="w">    </span><span class="c1">//</span><span class="w"></span>
<span class="w">    </span><span class="c1">// MODULE: MultiQC</span><span class="w"></span>
<span class="w">    </span><span class="c1">//</span><span class="w"></span>
<span class="w">    </span><span class="n">workflow_summary</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">WorkflowToy</span><span class="o">.</span><span class="na">paramsSummaryMultiqc</span><span class="o">(</span><span class="n">workflow</span><span class="o">,</span><span class="w"> </span><span class="n">summary_params</span><span class="o">)</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_workflow_summary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">value</span><span class="o">(</span><span class="n">workflow_summary</span><span class="o">)</span><span class="w"></span>

<span class="w">    </span><span class="n">ch_multiqc_files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Channel</span><span class="o">.</span><span class="na">empty</span><span class="o">()</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_multiqc_files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_multiqc_files</span><span class="o">.</span><span class="na">mix</span><span class="o">(</span><span class="n">Channel</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">ch_multiqc_config</span><span class="o">))</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_multiqc_files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_multiqc_files</span><span class="o">.</span><span class="na">mix</span><span class="o">(</span><span class="n">ch_multiqc_custom_config</span><span class="o">.</span><span class="na">collect</span><span class="o">().</span><span class="na">ifEmpty</span><span class="o">([]))</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_multiqc_files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_multiqc_files</span><span class="o">.</span><span class="na">mix</span><span class="o">(</span><span class="n">ch_workflow_summary</span><span class="o">.</span><span class="na">collectFile</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s1">&#39;workflow_summary_mqc.yaml&#39;</span><span class="o">))</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_multiqc_files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_multiqc_files</span><span class="o">.</span><span class="na">mix</span><span class="o">(</span><span class="n">CUSTOM_DUMPSOFTWAREVERSIONS</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">mqc_yml</span><span class="o">.</span><span class="na">collect</span><span class="o">())</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_multiqc_files</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ch_multiqc_files</span><span class="o">.</span><span class="na">mix</span><span class="o">(</span><span class="n">FASTQC</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">zip</span><span class="o">.</span><span class="na">collect</span><span class="o">{</span><span class="n">it</span><span class="o">[</span><span class="mi">1</span><span class="o">]}.</span><span class="na">ifEmpty</span><span class="o">([]))</span><span class="w"></span>

<span class="w">    </span><span class="n">MULTIQC</span><span class="w"> </span><span class="o">(</span><span class="w"></span>
<span class="w">        </span><span class="n">ch_multiqc_files</span><span class="o">.</span><span class="na">collect</span><span class="o">()</span><span class="w"></span>
<span class="w">    </span><span class="o">)</span><span class="w"></span>
<span class="w">    </span><span class="n">multiqc_report</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MULTIQC</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">report</span><span class="o">.</span><span class="na">toList</span><span class="o">()</span><span class="w"></span>
<span class="w">    </span><span class="n">ch_versions</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">ch_versions</span><span class="o">.</span><span class="na">mix</span><span class="o">(</span><span class="n">MULTIQC</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">versions</span><span class="o">)</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    COMPLETION EMAIL AND SUMMARY</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">*/</span><span class="w"></span>

<span class="n">workflow</span><span class="o">.</span><span class="na">onComplete</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">email</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">email_on_fail</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NfcoreTemplate</span><span class="o">.</span><span class="na">email</span><span class="o">(</span><span class="n">workflow</span><span class="o">,</span><span class="w"> </span><span class="n">params</span><span class="o">,</span><span class="w"> </span><span class="n">summary_params</span><span class="o">,</span><span class="w"> </span><span class="n">projectDir</span><span class="o">,</span><span class="w"> </span><span class="n">log</span><span class="o">,</span><span class="w"> </span><span class="n">multiqc_report</span><span class="o">)</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">NfcoreTemplate</span><span class="o">.</span><span class="na">summary</span><span class="o">(</span><span class="n">workflow</span><span class="o">,</span><span class="w"> </span><span class="n">params</span><span class="o">,</span><span class="w"> </span><span class="n">log</span><span class="o">)</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    THE END</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">*/</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;$schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://json-schema.org/draft-07/schema&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;$id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/nf-core/toy/master/nextflow_schema.json&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;nf-core/toy pipeline parameters&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My awesome nf-core pipeline&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;definitions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;input_output_options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Input/output options&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-terminal&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Define where the pipeline should find input data and save output data.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                </span><span class="s2">&quot;input&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="s2">&quot;outdir&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file-path&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;mimetype&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text/csv&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^\\S+\\.csv$&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;assets/schema_input.json&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Path to comma-separated file containing information about the samples in the experiment.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;You will need to create a design file with information about the samples in your experiment before running the pipeline. Use this parameter to specify its location. It has to be a comma-separated file with 3 columns, and a header row. See [usage docs](https://nf-co.re/toy/usage#samplesheet-input).&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-file-csv&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;outdir&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;directory-path&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The output directory where the results will be saved. You have to use absolute paths to storage on Cloud infrastructure.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-folder-open&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Email address for completion summary.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-envelope&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Set this parameter to your e-mail address to get a summary e-mail with details of the run sent to you when the workflow exits. If set in your user config file (`~/.nextflow/config`) then you don&#39;t need to specify this on the command line for every run.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;multiqc_title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MultiQC report title. Printed as page header, used for filename if not otherwise specified.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-file-signature&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;reference_genome_options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Reference genome options&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-dna&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Reference genome related files and options required for the workflow.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;genome&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of iGenomes reference.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-book&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;If using a reference genome configured in the pipeline using iGenomes, use this parameter to give the ID for the reference. This is then used to build the full paths for all required reference genome files e.g. `--genome GRCh38`. \n\nSee the [nf-core website docs](https://nf-co.re/usage/reference_genomes) for more details.&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;fasta&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file-path&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;mimetype&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text/plain&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^\\S+\\.fn?a(sta)?(\\.gz)?$&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Path to FASTA genome file.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This parameter is *mandatory* if `--genome` is not specified. If you don&#39;t have a BWA index available this will be generated for you automatically. Combine with `--save_reference` to save BWA index for future runs.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;far fa-file-code&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;igenomes_base&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;directory-path&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Directory / URL base for iGenomes references.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;s3://ngi-igenomes/igenomes&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-cloud-download-alt&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;igenomes_ignore&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Do not load the iGenomes reference config.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-ban&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Do not load `igenomes.config` when running the pipeline. You may choose this option if you observe clashes between custom parameters and those supplied in `igenomes.config`.&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;institutional_config_options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Institutional config options&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-university&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Parameters used to describe centralised config profiles. These should not be edited.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The centralised nf-core configuration profiles use a handful of pipeline parameters to describe themselves. This information is then printed to the Nextflow log when you run a pipeline. You should not need to change these values when you run a pipeline.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;custom_config_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Git commit id for Institutional configs.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;master&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-users-cog&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;custom_config_base&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Base directory for Institutional configs.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/nf-core/configs/master&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;If you&#39;re running offline, Nextflow will not be able to fetch the institutional config files from the internet. If you don&#39;t need them, then this is not a problem. If you do need them, you should download the files from the repo and tell Nextflow where to find them with this parameter.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-users-cog&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;config_profile_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Institutional config name.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-users-cog&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;config_profile_description&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Institutional config description.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-users-cog&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;config_profile_contact&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Institutional config contact information.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-users-cog&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;config_profile_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Institutional config URL link.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-users-cog&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;max_job_request_options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Max job request options&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fab fa-acquisitions-incorporated&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Set the top limit for requested resources for any single job.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;If you are running on a smaller system, a pipeline step requesting more resources than are available may cause the Nextflow to stop the run with an error. These options allow you to cap the maximum resources requested by any single job so that the pipeline will run on your system.\n\nNote that you can not _increase_ the resources requested by any job using these options. For that you will need your own configuration file. See [the nf-core website](https://nf-co.re/usage/configuration) for details.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;max_cpus&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Maximum number of CPUs that can be requested for any single job.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-microchip&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Use to set an upper-limit for the CPU requirement for each process. Should be an integer e.g. `--max_cpus 1`&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;max_memory&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Maximum amount of memory that can be requested for any single job.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;128.GB&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-memory&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^\\d+(\\.\\d+)?\\.?\\s*(K|M|G|T)?B$&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Use to set an upper-limit for the memory requirement for each process. Should be a string in the format integer-unit e.g. `--max_memory &#39;8.GB&#39;`&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;max_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Maximum amount of time that can be requested for any single job.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;240.h&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;far fa-clock&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^(\\d+\\.?\\s*(s|m|h|day)\\s*)+$&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Use to set an upper-limit for the time requirement for each process. Should be a string in the format integer-unit e.g. `--max_time &#39;2.h&#39;`&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;generic_options&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Generic options&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-file-import&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Less common options for the pipeline, typically set in a config file.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;These options are common to all nf-core pipelines and allow you to customise some of the core preferences for how the pipeline runs.\n\nTypically these options would be set in a Nextflow config file loaded for all pipeline runs, such as `~/.nextflow/config`.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;help&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Display help text.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-question-circle&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;publish_dir_mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;copy&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Method used to save pipeline results to output directory.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The Nextflow `publishDir` option specifies which intermediate files should be saved to the output directory. This option tells the pipeline what method should be used to move these files. See [Nextflow docs](https://www.nextflow.io/docs/latest/process.html#publishdir) for details.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-copy&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">                        </span><span class="s2">&quot;symlink&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="s2">&quot;rellink&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="s2">&quot;link&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="s2">&quot;copy&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="s2">&quot;copyNoFollow&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                        </span><span class="s2">&quot;move&quot;</span><span class="w"></span>
<span class="w">                    </span><span class="p">],</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;email_on_fail&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Email address for completion summary, only when pipeline fails.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-exclamation-triangle&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;An email address to send a summary email to when the pipeline is completed - ONLY sent if the pipeline does not exit successfully.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;plaintext_email&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Send plain-text email instead of HTML.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-remove-format&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;max_multiqc_email_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;File size limit when attaching MultiQC reports to summary emails.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;pattern&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^\\d+(\\.\\d+)?\\.?\\s*(K|M|G|T)?B$&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;25.MB&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-file-upload&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;monochrome_logs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Do not use coloured log outputs.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-palette&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;multiqc_config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Custom config file to supply to MultiQC.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-cog&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;tracedir&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Directory to keep pipeline Nextflow logs and reports.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${params.outdir}/pipeline_info&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-cogs&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;validate_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Boolean whether to validate parameters against the schema at runtime&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-check-square&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;show_hidden_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;far fa-eye-slash&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Show all params when using `--help`&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;help_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;By default, parameters set as _hidden_ in the schema are not shown on the command line when a user runs with `--help`. Specifying this option will tell the pipeline to show all parameters.&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">},</span><span class="w"></span>
<span class="w">                </span><span class="nt">&quot;enable_conda&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Run this workflow with Conda. You can also use &#39;-profile conda&#39; instead of providing this parameter.&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;hidden&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">                    </span><span class="nt">&quot;fa_icon&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fas fa-bacon&quot;</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/definitions/input_output_options&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/definitions/reference_genome_options&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/definitions/institutional_config_options&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/definitions/max_job_request_options&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/definitions/generic_options&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">],</span><span class="w"></span>
<span class="hll"><span class="w">    </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><span class="hll"><span class="w">        </span><span class="nt">&quot;skip_adapterremoval&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><span class="hll"><span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span><span class="w"></span>
</span><span class="hll"><span class="w">        </span><span class="p">}</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="p">}</span><span class="w"></span>
</span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    nf-core/toy Nextflow config file</span>
<span class="cm">~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>
<span class="cm">    Default config options for all compute environments</span>
<span class="cm">----------------------------------------------------------------------------------------</span>
<span class="cm">*/</span><span class="w"></span>

<span class="c1">// Global default params, used in configs</span><span class="w"></span>
<span class="n">params</span><span class="w"> </span><span class="o">{</span><span class="w"></span>

<span class="w">    </span><span class="c1">// TODO nf-core: Specify your pipeline&#39;s command line flags</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Input options</span><span class="w"></span>
<span class="w">    </span><span class="n">input</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>

<span class="w">    </span><span class="c1">// References</span><span class="w"></span>
<span class="w">    </span><span class="n">genome</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">igenomes_base</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;s3://ngi-igenomes/igenomes&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">igenomes_ignore</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>

<span class="hll"><span class="w">    </span><span class="c1">// Adapterremoval options</span><span class="w"></span>
</span><span class="hll"><span class="w">    </span><span class="n">skip_adapterremoval</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
</span>
<span class="w">    </span><span class="c1">// MultiQC options</span><span class="w"></span>
<span class="w">    </span><span class="n">multiqc_config</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">multiqc_title</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">max_multiqc_email_size</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;25.MB&#39;</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Boilerplate options</span><span class="w"></span>
<span class="w">    </span><span class="n">outdir</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">tracedir</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${params.outdir}/pipeline_info&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">publish_dir_mode</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;copy&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">email</span><span class="w">                      </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">email_on_fail</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">plaintext_email</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="n">monochrome_logs</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="n">help</span><span class="w">                       </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="n">validate_params</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="n">show_hidden_params</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="n">schema_ignore_params</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;genomes&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">enable_conda</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Config options</span><span class="w"></span>
<span class="w">    </span><span class="n">custom_config_version</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;master&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">custom_config_base</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://raw.githubusercontent.com/nf-core/configs/${params.custom_config_version}&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">config_profile_description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">config_profile_contact</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">config_profile_url</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>
<span class="w">    </span><span class="n">config_profile_name</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Max resource options</span><span class="w"></span>
<span class="w">    </span><span class="c1">// Defaults only, expecting to be overwritten</span><span class="w"></span>
<span class="w">    </span><span class="n">max_memory</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;128.GB&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">max_cpus</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="w"></span>
<span class="w">    </span><span class="n">max_time</span><span class="w">                   </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;240.h&#39;</span><span class="w"></span>

<span class="o">}</span><span class="w"></span>

<span class="c1">// Load base.config by default for all pipelines</span><span class="w"></span>
<span class="n">includeConfig</span><span class="w"> </span><span class="s1">&#39;conf/base.config&#39;</span><span class="w"></span>

<span class="c1">// Load nf-core custom profiles from different Institutions</span><span class="w"></span>
<span class="k">try</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">includeConfig</span><span class="w"> </span><span class="s2">&quot;${params.custom_config_base}/nfcore_custom.config&quot;</span><span class="w"></span>
<span class="o">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s2">&quot;WARNING: Could not load nf-core/config profiles: ${params.custom_config_base}/nfcore_custom.config&quot;</span><span class="o">)</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="c1">// Load nf-core/toy custom profiles from different institutions.</span><span class="w"></span>
<span class="c1">// Warning: Uncomment only if a pipeline-specific instititutional config already exists on nf-core/configs!</span><span class="w"></span>
<span class="c1">// try {</span><span class="w"></span>
<span class="c1">//   includeConfig &quot;${params.custom_config_base}/pipeline/toy.config&quot;</span><span class="w"></span>
<span class="c1">// } catch (Exception e) {</span><span class="w"></span>
<span class="c1">//   System.err.println(&quot;WARNING: Could not load nf-core/config/toy profiles: ${params.custom_config_base}/pipeline/toy.config&quot;)</span><span class="w"></span>
<span class="c1">// }</span><span class="w"></span>


<span class="n">profiles</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">debug</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="na">beforeScript</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;echo $HOSTNAME&#39;</span><span class="w"> </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">conda</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="n">params</span><span class="o">.</span><span class="na">enable_conda</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">singularity</span><span class="o">.</span><span class="na">enabled</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">podman</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">shifter</span><span class="o">.</span><span class="na">enabled</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">charliecloud</span><span class="o">.</span><span class="na">enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">docker</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">userEmulation</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="n">singularity</span><span class="o">.</span><span class="na">enabled</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">podman</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">shifter</span><span class="o">.</span><span class="na">enabled</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">charliecloud</span><span class="o">.</span><span class="na">enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">singularity</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="n">singularity</span><span class="o">.</span><span class="na">enabled</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="n">singularity</span><span class="o">.</span><span class="na">autoMounts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">podman</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">shifter</span><span class="o">.</span><span class="na">enabled</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">charliecloud</span><span class="o">.</span><span class="na">enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">podman</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="n">podman</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">singularity</span><span class="o">.</span><span class="na">enabled</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">shifter</span><span class="o">.</span><span class="na">enabled</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">charliecloud</span><span class="o">.</span><span class="na">enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">shifter</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="n">shifter</span><span class="o">.</span><span class="na">enabled</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">singularity</span><span class="o">.</span><span class="na">enabled</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">podman</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">charliecloud</span><span class="o">.</span><span class="na">enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">charliecloud</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="n">charliecloud</span><span class="o">.</span><span class="na">enabled</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">singularity</span><span class="o">.</span><span class="na">enabled</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">podman</span><span class="o">.</span><span class="na">enabled</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">        </span><span class="n">shifter</span><span class="o">.</span><span class="na">enabled</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">test</span><span class="w">      </span><span class="o">{</span><span class="w"> </span><span class="n">includeConfig</span><span class="w"> </span><span class="s1">&#39;conf/test.config&#39;</span><span class="w">      </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="n">test_full</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">includeConfig</span><span class="w"> </span><span class="s1">&#39;conf/test_full.config&#39;</span><span class="w"> </span><span class="o">}</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="c1">// Load igenomes.config if required</span><span class="w"></span>
<span class="k">if</span><span class="w"> </span><span class="o">(!</span><span class="n">params</span><span class="o">.</span><span class="na">igenomes_ignore</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">includeConfig</span><span class="w"> </span><span class="s1">&#39;conf/igenomes.config&#39;</span><span class="w"></span>
<span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">params</span><span class="o">.</span><span class="na">genomes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[:]</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="c1">// Export these variables to prevent local Python/R libraries from conflicting with those in the container</span><span class="w"></span>
<span class="c1">// The JULIA depot path has been adjusted to a fixed path `/usr/local/share/julia` that needs to be used for packages in the container.</span><span class="w"></span>
<span class="c1">// See https://apeltzer.github.io/post/03-julia-lang-nextflow/ for details on that. Once we have a common agreement on where to keep Julia packages, this is adjustable.</span><span class="w"></span>

<span class="n">env</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">PYTHONNOUSERSITE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">    </span><span class="n">R_PROFILE_USER</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/.Rprofile&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">R_ENVIRON_USER</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/.Renviron&quot;</span><span class="w"></span>
<span class="w">    </span><span class="n">JULIA_DEPOT_PATH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/usr/local/share/julia&quot;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="c1">// Capture exit codes from upstream processes when piping</span><span class="w"></span>
<span class="n">process</span><span class="o">.</span><span class="na">shell</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="s1">&#39;/bin/bash&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;-euo&#39;</span><span class="o">,</span><span class="w"> </span><span class="s1">&#39;pipefail&#39;</span><span class="o">]</span><span class="w"></span>

<span class="kt">def</span><span class="w"> </span><span class="n">trace_timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Date</span><span class="o">().</span><span class="na">format</span><span class="o">(</span><span class="w"> </span><span class="s1">&#39;yyyy-MM-dd_HH-mm-ss&#39;</span><span class="o">)</span><span class="w"></span>
<span class="n">timeline</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="n">file</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${params.tracedir}/execution_timeline_${trace_timestamp}.html&quot;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
<span class="n">report</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="n">file</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${params.tracedir}/execution_report_${trace_timestamp}.html&quot;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
<span class="n">trace</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="n">file</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${params.tracedir}/execution_trace_${trace_timestamp}.txt&quot;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
<span class="n">dag</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="n">file</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;${params.tracedir}/pipeline_dag_${trace_timestamp}.html&quot;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="n">manifest</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="n">name</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;nf-core/toy&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">author</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;toy&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">homePage</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;https://github.com/nf-core/toy&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">description</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;toy&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">mainScript</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;main.nf&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">nextflowVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;!&gt;=21.10.3&#39;</span><span class="w"></span>
<span class="w">    </span><span class="n">version</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;1.0dev&#39;</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>

<span class="c1">// Load modules.config for DSL2 module specific options</span><span class="w"></span>
<span class="n">includeConfig</span><span class="w"> </span><span class="s1">&#39;conf/modules.config&#39;</span><span class="w"></span>

<span class="c1">// Function to ensure that resource requirements don&#39;t go beyond</span><span class="w"></span>
<span class="c1">// a maximum limit</span><span class="w"></span>
<span class="kt">def</span><span class="w"> </span><span class="nf">check_max</span><span class="o">(</span><span class="n">obj</span><span class="o">,</span><span class="w"> </span><span class="n">type</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;memory&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">max_memory</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nextflow</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">MemoryUnit</span><span class="o">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="o">)</span><span class="w"></span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">max_memory</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nextflow</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">MemoryUnit</span><span class="w"></span>
<span class="w">            </span><span class="k">else</span><span class="w"></span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">obj</span><span class="w"></span>
<span class="w">        </span><span class="o">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">all</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="n">println</span><span class="w"> </span><span class="s2">&quot;   ### ERROR ###   Max memory &#39;${params.max_memory}&#39; is not valid! Using default value: $obj&quot;</span><span class="w"></span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">obj</span><span class="w"></span>
<span class="w">        </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;time&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">params</span><span class="o">.</span><span class="na">max_time</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nextflow</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Duration</span><span class="o">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="o">)</span><span class="w"></span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">max_time</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">nextflow</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Duration</span><span class="w"></span>
<span class="w">            </span><span class="k">else</span><span class="w"></span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">obj</span><span class="w"></span>
<span class="w">        </span><span class="o">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">all</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="n">println</span><span class="w"> </span><span class="s2">&quot;   ### ERROR ###   Max time &#39;${params.max_time}&#39; is not valid! Using default value: $obj&quot;</span><span class="w"></span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">obj</span><span class="w"></span>
<span class="w">        </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;cpus&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">        </span><span class="k">try</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="o">.</span><span class="na">min</span><span class="o">(</span><span class="w"> </span><span class="n">obj</span><span class="o">,</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="na">max_cpus</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">)</span><span class="w"></span>
<span class="w">        </span><span class="o">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="o">(</span><span class="n">all</span><span class="o">)</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="n">println</span><span class="w"> </span><span class="s2">&quot;   ### ERROR ###   Max cpus &#39;${params.max_cpus}&#39; is not valid! Using default value: $obj&quot;</span><span class="w"></span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">obj</span><span class="w"></span>
<span class="w">        </span><span class="o">}</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
</pre></div>
</div>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">    </span><span class="nl">withName:</span><span class="w"> </span><span class="n">FASTQC</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<span class="w">            </span><span class="n">ext</span><span class="o">.</span><span class="na">args</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w"></span>
<span class="w">    </span><span class="o">}</span><span class="w"></span>
<span class="o">}</span><span class="w"></span>
</pre></div>
</div>
</details><div class="line-block">
<div class="line"><br /></div>
</div>
</section>
</section>
</section>
<section id="interesting-links">
<h2>Interesting links<a class="headerlink" href="#interesting-links" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://nf-co.re/">nf-core website</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/nf-core/">nf-core github</a>.</p></li>
<li><p><a class="reference external" href="https://nf-co.re/join/slack">Join nf-core slack</a>.</p></li>
<li><p><a class="reference external" href="https://nextflow.io/slack-invite.html">Join Nextflow slack</a>.</p></li>
<li><p><a class="reference external" href="https://www.youtube.com/c/nf-core">nf-core YouTube channel</a>.</p></li>
<li><p><a class="reference external" href="https://github.com/nf-core/vscode-extensionpack">nf-core Visual Code extension pack</a>.</p></li>
</ul>
</section>
<section id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this heading"></a></h2>
<p>This nf-core tutorial has been build taking as inspiration the <a class="reference external" href="https://nf-co.re/tools/">nf-core official tools documentation</a>
and the Carpentries materials <em>“Introduction to Bioinformatics workflows with Nextflow and nf-core”</em> that can be find <a class="reference external" href="https://carpentries-incubator.github.io/workflows-nextflow/">here</a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="nextflow_3.html" class="btn btn-neutral float-left" title="Nextflow 3" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>