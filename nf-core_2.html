<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>nf-core for developers &mdash; Courses@CRG: Reproducible research and data analysis using Containers &amp; Nextflow 2022  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="canonical" href="https://biocorecrg.github.io/CoursesCRG_Containers_Nextflow_May_2022/nf-core_2.html" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Introduction to nf-core" href="nf-core_1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Courses@CRG: Reproducible research and data analysis using Containers & Nextflow 2022
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About the course</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker_2.html">Docker 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity.html">Singularity</a></li>
<li class="toctree-l1"><a class="reference internal" href="nextflow_1.html">Nextflow 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="nextflow_2.html">Nextflow 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="nextflow_3.html">Nextflow 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="nf-core_1.html">Introduction to nf-core</a></li>
<li class="toctree-l1"><a class="reference internal" href="nf-core_1.html#nf-core-for-users">nf-core for users</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">nf-core for developers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-pipelines">Creating pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#exercise">Exercise</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#linting-pipelines">Linting pipelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#nf-core-modules">nf-core modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#listing-modules">Listing modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#show-information-about-a-module">Show information about a module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-modules-in-a-pipeline">Install modules in a pipeline</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Courses@CRG: Reproducible research and data analysis using Containers & Nextflow 2022</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>nf-core for developers</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/nf-core_2.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="nf-core-for-developers">
<span id="nf-core-2-page"></span><h1>nf-core for developers<a class="headerlink" href="#nf-core-for-developers" title="Permalink to this heading"></a></h1>
<p>nf-core tools provide with a bunch of helper commands targeted to help developers implement pipelines following nf-core guidelines.
You can use them to contribute to the nf-core repository or use them to implement your own pipelines following nf-core standards.</p>
<section id="creating-pipelines">
<h2>Creating pipelines<a class="headerlink" href="#creating-pipelines" title="Permalink to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">create</span></code> command generates a pipeline based on the nf-core template. During the process you will need to provide some
information as the pipeline name, description and author name either using the flags or answering the questions in the interactive prompt.
With this information, the pipeline will be initialized following the nf-core standards.</p>
<p>Besides creating the files, the command initializes the folder containing the new pipeline as a git repository and makes and initial
commit. This first commit is identical to the nf-core template and it is important since it enables to keep your pipeline in sync with
the nf-core template when it is updated (new tool releases).</p>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Permalink to this heading"></a></h3>
<p>Try to create your own pipeline using <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">create</span></code></p>
<details>
<summary><a>Solution</a></summary><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nf-core create -n foo -d &quot;My awesome nf-core pipeline&quot; -a &quot;Your name&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As shown in the message returned by the <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">create</span></code> if you plan to contribute your pipeline to nf-core, it is
highly advisable to drop a message on the nf-core before starting to write any code, read more <a class="reference external" href="https://nf-co.re/developers/adding_pipelines#join-the-community">here</a></p>
</div>
</section>
</section>
<section id="linting-pipelines">
<h2>Linting pipelines<a class="headerlink" href="#linting-pipelines" title="Permalink to this heading"></a></h2>
<p>To make sticking to nf-core guidelines easier, nf-core includes the <code class="docutils literal notranslate"><span class="pre">lint</span></code> command. This command checks that the pipeline is following
nf-core standards. Interestingly, this command is the same that is used in the automated continuous integration tests.</p>
<p>Let’s try to run this command on the pipeline we have just created.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd nf-core-&lt;your_pipeline_name&gt;</span>
<span class="go">nf-core lint</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use <kbd class="kbd docutils literal notranslate">ctrl</kbd> + <kbd class="kbd docutils literal notranslate">click</kbd> to navigate the documentation of each of the lint results. Otherwise,
the complete list of the lint tests can be found <a class="reference external" href="https://nf-co.re/tools-docs/lint_tests/index.html">here</a></p>
</div>
<p>To run only a specific nf-core lint test you can use the <code class="docutils literal notranslate"><span class="pre">-k</span></code> / <code class="docutils literal notranslate"><span class="pre">--key</span></code> option, this enables to run for example
only a certain test that has failed, e.g. <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">lint</span> <span class="pre">-k</span> <span class="pre">files_exist</span> <span class="pre">-k</span> <span class="pre">files_unchanged</span></code>.</p>
</section>
</section>
<section id="nf-core-modules">
<h1>nf-core modules<a class="headerlink" href="#nf-core-modules" title="Permalink to this heading"></a></h1>
<p>Since the introduction of <a href="#id1"><span class="problematic" id="id2">`Nextflow DSL2&lt;https://www.nextflow.io/blog/2020/dsl2-is-here.html&gt;`__</span></a>, nf-core pipelines have,
and still are, been ported to DSL2 syntax. One of the paramount features of the DSL2 syntax is the possibility of creating
modules and sub-workflows, as we have already discussed during this course. For this reason, the nf-core community has created
a centralised repository to host modules and sub-workflows (the latter is still WIP). This enables multiple pipelines to use
the same process defined as a module improving the developing speed and the robustness of pipelines by using tested modules.</p>
<div class="topic">
<p class="topic-title">nf-core DSL2 concepts</p>
<p><strong>MODULE</strong>: A process that can be used within different pipelines and is as a atomic as possible i.e, cannot be split into
another module.
e.g. a module file containing the process definition for a single tool such as FastQC</p>
<p><strong>SUB-WORKFLOW</strong>: A chain of multiple modules that offer a higher-level functionality within the context of a pipeline.
e.g. a sub-workflow to sort, index and run some basic stats on a BAM file.</p>
<p><strong>WORKFLOW</strong>: An end-to-end pipeline created by a combination of Nextflow DSL2 individual modules and sub-workflows.
e.g. from one or more inputs to a series of final inputs</p>
</div>
<p>The nf-core DSL2 modules repository is at <a href="#id1"><span class="problematic" id="id3">`https://github.com/nf-core/modules&lt;https://github.com/nf-core/modules&gt;`__</span></a> and you
can navigate the modules available on this section of the nf-core <a href="#id1"><span class="problematic" id="id4">`website&lt;https://nf-co.re/modules&gt;`__</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We have recently reach 500 modules available in the modules repository.</p>
</div>
<p>As you can see, modules have been become a central resource of the nf-core community and as so nf-core tools provides with
some dedicated utilities for modules.</p>
<section id="listing-modules">
<h2>Listing modules<a class="headerlink" href="#listing-modules" title="Permalink to this heading"></a></h2>
<p>We can now list all the nf-core available modules getting advantage of the <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">remote</span></code> sub-command.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">    $ </span>nf-core modules list remote
<span class="go">                                      ,--./,-.</span>
<span class="go">      ___     __   __   __   ___     /,-._.--~\</span>
<span class="go">|\ | |__  __ /  ` /  \ |__) |__         }  {</span>
<span class="go">| \| |       \__, \__/ |  \ |___     \`-._,-`-,</span>
<span class="go">                                      `._,._,&#39;</span>

<span class="go">nf-core/tools version 2.4.1 - https://nf-co.re</span>

<span class="go">    INFO     Modules available from nf-core/modules (master):                                                                                                                                                                                                            list.py:125</span>

<span class="go">    ┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓</span>
<span class="go">    ┃ Module Name                              ┃</span>
<span class="go">    ┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩</span>
<span class="go">    │ abacas                                   │</span>
<span class="go">    │ abricate/run                             │</span>
<span class="go">    │ abricate/summary                         │</span>
<span class="go">    │ adapterremoval                           │</span>
<span class="go">    │ adapterremovalfixprefix                  │</span>
<span class="go">    │ agrvate                                  │</span>
<span class="go">    │ allelecounter                            │</span>
<span class="go">    │ amplify/predict                          │</span>
<span class="go">    │ amps                                     │</span>
<span class="go">    │ amrfinderplus/run                        │</span>
<span class="go">    │ amrfinderplus/update                     │</span>
<span class="go">    │ antismash/antismashlite                  │</span>
<span class="go">    │ antismash/antismashlitedownloaddatabases │</span>
<span class="go">    │ arriba                                   │</span>
<span class="go">    │ artic/guppyplex                          │</span>
<span class="go">    │ artic/minion                             │</span>
<span class="go">    │ ascat                                    │</span>
<span class="go">    │ assemblyscan                             │</span>
<span class="go">    │ ataqv/ataqv                              │</span>
<span class="go">    │ bakta                                    │</span>
<span class="go">    │ bamaligncleaner                          │</span>
<span class="go">    │ bamcmp                                   │</span>
<span class="go">    │ bamtools/convert                         │</span>
<span class="go">    [..truncated..]</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can add a pattern to the end of the list command to filter the modules by keyword eg: <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">list</span> <span class="pre">remote</span> <span class="pre">samtools</span></code></p>
</div>
<p>Likewise, it is also possible to list the modules installed in a pipeline by using the <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">local</span></code> sub-command. By default,
the command will list the modules installed in the current working directory but you can provide a different directory by using
the <code class="docutils literal notranslate"><span class="pre">--dir</span> <span class="pre">&lt;pipeline_dir&gt;</span></code> option.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nf-core modules list <span class="nb">local</span>
</pre></div>
</div>
</section>
<section id="show-information-about-a-module">
<h2>Show information about a module<a class="headerlink" href="#show-information-about-a-module" title="Permalink to this heading"></a></h2>
<p>You can render the basic information of a module using <code class="docutils literal notranslate"><span class="pre">nf-core</span> <span class="pre">modules</span> <span class="pre">info</span> <span class="pre">&lt;tool&gt;</span></code>. This command will provide a brief
summary of the module functionality, the description of the input and output channels, its type (<code class="docutils literal notranslate"><span class="pre">val</span></code>, <code class="docutils literal notranslate"><span class="pre">path</span></code>, etc.)
and the its installation command.</p>
</section>
<section id="install-modules-in-a-pipeline">
<h2>Install modules in a pipeline<a class="headerlink" href="#install-modules-in-a-pipeline" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="nf-core_1.html" class="btn btn-neutral float-left" title="Introduction to nf-core" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>